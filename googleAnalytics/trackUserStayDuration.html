<script>
    // The function overriding used for tracking of Page changes in Single Page Application (SPA). The function overrides the inbuilt MDN pushstate function and dispatch a push state event for customizations 
    // do not edit this code
    window.history.pushState = ( f => function pushState(){
        var ret = f.apply(this, arguments);
        window.dispatchEvent(new Event('pushstate'));
        return ret;
    })(history.pushState);
</script> 
    
<!--This snippet loads the gtag.js library, establishes GA_MEASUREMENT_ID as the default Google Analytics property ID-->
<x-oasis-script async src="https://www.googletagmanager.com/gtag/js?{id}"></x-oasis-script>
    
<x-oasis-script hidden="true">
    // gtag basic snippet code do not change
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    
    gtag('config', '{id}', {
        'cookie_domain': 'auto',
    });
    
    window.addEventListener('beforeunload', function (e) {
        if (window.performance) {
            // A Performance object offers access to the performance and timing-related information
            // The Math.round() function call to returns the value of a number rounded to the nearest integer.
            var timeSincePageLoad = Math.round(performance.now());
            
            // gtag function call to send event hit to Google Analytics along with the variables    
            gtag('event', 'timing_complete', {
                'name': 'load',
                'value': timeSincePageLoad,
                'event_category': 'About Us Page'
            });
        }
    });
</x-oasis-script>